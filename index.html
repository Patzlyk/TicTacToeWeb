<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Patrikovy naprosto úžasné piškvorky</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<a>Skvěle fungující a nerozbité piškvorky</a>
<canvas id="gameCanvas" width="1280" height="720"></canvas>

<script>
    var canv = document.getElementById("gameCanvas");
    var context = canv.getContext("2d");
    
    document.addEventListener("click", mouseClickHandler, false)

    function mouseClickHandler(e)
    {
        var a = canv.getBoundingClientRect()

        var clickedX = e.clientX - a.left;
        var clickedY = e.clientY - a.top;

        var clickedGameX = Math.round((clickedX - 25) / 50);
        var clickedGameY = Math.round((clickedY - 25) / 50);

        drawCross(clickedGameX, clickedGameY);
    }

    function drawCross(posX, posY)
    {
        context.beginPath();
        context.lineWidth = 5;
        context.strokeStyle = "#FF0000";
        context.moveTo(posX * 50 + 5, posY * 50 + 5);
        context.lineTo(posX * 50 + 45, posY * 50 + 45);
        context.stroke();
        context.moveTo(posX * 50 + 45, posY * 50 + 5);
        context.lineTo(posX * 50 + 5, posY * 50 + 45);
        context.stroke();
    }

    function drawCircle(posX, posY)
    {
        context.lineWidth = 5;
        context.strokeStyle = "#00AAFF";
        context.beginPath();
        context.arc(posX * 50 + 25, posY * 50 + 25, 20, 0, Math.PI * 2)
        context.stroke();
        context.closePath();
    }

    function drawGameField(size)
    {
        context.beginPath();
        context.lineWidth = 2;
        context.strokeStyle = "#000000";
        for (var i = 1; i < size; i++)
        {
            context.moveTo(0, i * 50);
            context.lineTo(size * 50, i * 50)
            context.stroke();
            context.moveTo(i * 50, 0);
            context.lineTo(i * 50, size * 50)
            context.stroke();
        }

        context.closePath();
    }
    drawGameField(5);

    drawCircle(0, 1);
    drawCircle(2, 2);
    drawCross(0, 0);
    drawCross(1, 0);
    drawCross(1, 1);
    drawCross(1, 2);
    drawCross(1, 3);
</script>

</body>
</html>